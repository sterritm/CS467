<head>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
	<link rel="stylesheet" href="css/index.css"/>
</head>
<div id="everything">
    <header class="container">
        <section class="jumbotron">
            <div class="container">
                <div class="row justify-content-center">
                    <h1>Pavo group web crawler</h1>
                </div>
                <div class="row justify-content-center">
                    <p>
                        This site will take the user input for the options below and create and interactive
                        <br />graph with nodes representing each URL visited during the crawl and
                        <br />directed edges indicating which page points to which other page.
                    </p>
                </div>
            </div>
        </section>
    </header>

    <section class="container" id="section">
        <div class="row justify-content-center">
            <form action="/results" method="post" id="searchForm">
                <!-- change action to url of server -->
                <fieldset>
                    <legend>Create new search:</legend>
                    <label>
                        Starting webpage:
                        <input id="page" type="url" name="page" size="30" maxlength="150"
                               title="The URL where you'd like the search to begin" />
                    </label>
                    <label>
                        Number of links to search:
                        <input id="limit" type="number" name="limit" size="5" maxlength="5" min="0" step="1" max=""
                               title="The link depth (# of pages) to be searched" />
                    </label>
                    <label>Search type:</label>
                    <select name="method" id="method" onchange="crawlDepth()"
                            title="Depth first: chooses random link from start page and continues to URL at random link and repeats until number of links to search is met. Breadth first chooses all links on the start page and follows them all to the depth specified  in number of links to search.">
                        <option value="DFS">Depth First</option>
                        <option value="BFS">Breadth First</option>
                    </select>
                    <label>
                        Optional keyword:
                        <input id="keyword" type="text" name="keyword" size="15" maxlength="30"
                               title="This word is looked for in the visited pages, if found, the crawl will stop" />
                    </label>
                    <br />
                    <div class="row justify-content-center">
                        <input name="submitButton" type="submit" value="Start the crawler" id="searchButton" />
                    </div>
                    <script>
                        function crawlDepth() {
                            var linkMax = document.getElementById("method");
                            if (linkMax.options[linkMax.selectedIndex].value == "BFS") {
                                var limit = document.getElementById("limit");
                                limit.setAttribute("max", 2);
                            }
                            else {
                                var limit = document.getElementById("limit");
                                limit.setAttribute("max", null);
                            }
                        }
                    </script>
                </fieldset>
            </form>
            <form action="/results" method="post" id="repeatForm">
                <fieldset>
                    <legend>Repeat Search:</legend>
                    <select name="cookies" title="Choose a past search from saved cookies">
                        <option value="">Select One:</option>
                        {{#each cookies}}
                        <!--<option value="{{this}}">{{this}}</option>-->
                        <!--<option value='{"page":"{{this.page}}","method":"{{this.method}}","limit":{{this.limit}},"keyword":"{{this.keyword}}"}'>{{this.page}} - {{this.keyword}}</option>-->
                        <option value='{"page":"{{this.page}}","method":"{{this.method}}","limit":{{this.limit}},"keyword":"{{this.keyword}}"}'>{{this.page}}, {{this.limit}}, {{this.method}}, "{{this.keyword}}"</option>
                        {{/each}}
                    </select>
                    <input name="submitButton" type="submit" value="Repeat search" />
                </fieldset>
            </form>
        </div>
    </section>
</div>
<div id="loader" class="loader" style="display: none"></div>
<br />


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
<script src="js/loadingImage.js"></script>
